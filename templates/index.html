<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="3">
    <title>R'TSDC</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f7f6;
            color: #34495e;
            line-height: 1.6;
        }

        .animated-icon {
            display: inline-block;
            animation: bounce 1s infinite;
            margin-bottom: 15px;
        }

        @keyframes bounce {
            0% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0);
            }
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 36px;
            margin-bottom: 20px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-evenly;
            gap: 20px;
            margin-top: 30px;
        }

        .card {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            width: 45%;
            text-align: center;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            font-size: 1.2em;
            margin: 15px 0;
            overflow: hidden;
            animation: fadeInUp 0.8s ease-in-out;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card h3 {
            color: #2980b9;
            font-size: 22px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .card p {
            color: #7f8c8d;
            font-size: 1.1em;
            margin: 10px 0;
        }

        .reset-button {
            background-color: #e74c3c;
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 8px;
            width: 100%;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: background-color 0.3s ease, transform 0.2s ease;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 5px rgba(231, 76, 60, 0.5);
            }

            50% {
                transform: scale(1.05);
                box-shadow: 0 0 20px rgba(231, 76, 60, 0.8);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 5px rgba(231, 76, 60, 0.5);
            }
        }

        .reset-button:hover {
            background-color: #c0392b;
        }

        .stats-container {
            margin-top: 50px;
            padding: 30px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
            width: 90%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
        }

        .stats-container h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            text-align: center;
            font-size: 24px;
            font-weight: 700;
        }

        .stats-columns {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .stat-item {
            background-color: #ecf0f1;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            width: 220px;
            text-align: center;
            transition: transform 0.3s ease-in-out;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.15);
        }

        .stat-item h4 {
            color: #3498db;
            font-size: 18px;
            margin-bottom: 15px;
        }

        .stat-item p {
            color: #34495e;
            font-size: 1.1em;
        }

        .graph-container {
            margin-top: 50px;
            text-align: center;
            width: 100%;
        }

        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            background-color: #34495e;
            color: white;
        }

        footer p {
            margin: 0;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .card {
                width: 100%;
                font-size: 1.1em;
            }

            .stat-item {
                width: 45%;
            }
        }

        @media (max-width: 480px) {
            .card {
                font-size: 1em;
            }

            .stat-item {
                width: 100%;
            }

            .stats-container h3 {
                font-size: 20px;
            }

            footer p {
                font-size: 12px;
            }
        }
        
    </style>
</head>

<body>
    <h1>Real-Time Statistics Data Center</h1>

    <div class="container">
        <div class="card">
            <i class="fas fa-tint fa-2x" style="color: #3498db; margin-bottom: 15px;"></i>
            <h3>TDS</h3>
            <p>Value: {{ tds }}</p>
            <p>TDS stands for Total Dissolved Solids (minerals, salts, metals, etc.) in water. It is usually measured in
                milligrams per liter (mg/L) or parts per million (ppm).</p>
        </div>
        <div class="card">
            <i class="fas fa-bolt fa-2x" style="color: #9b59b6; margin-bottom: 15px;"></i>
            <h3>EC (Electrical Conductivity)</h3>
            <p>Value: {{ ec }}</p>
            <p>Electrical Conductivity (EC) is a measure of a material's ability to conduct an electric current.</p>
        </div>
    </div>

    <div class="container">
        <div class="card">
            <i class="fas fa-thermometer-half fa-2x" style="color: #1abc9c; margin-bottom: 15px;"></i>
            <h3>Temperature</h3>
            <p>Value: {{ temperature }}</p>
            <p>Temperature is a fundamental physical quantity that expresses the degree of hotness or coldness of a
                substance or system. Temperature plays a key role in many physical, chemical, and biological processes
                and is usually expressed as the ambient temperature or as a reference to room temperature.</p>
        </div>
        <div class="card">
            <i class="fas fa-cloud-rain fa-2x" style="color: #e74c3c; margin-bottom: 15px;"></i>
            <h3>Humidity</h3>
            <p>Value: {{ humidity }}</p>
            <p>Humidity refers to the amount of water vapor present in the air. It is an important factor in weather,
                climate, and human comfort. There are different ways to express and measure humidity, with the most
                common being absolute humidity, relative humidity, and specific humidity.</p>
        </div>
    </div>


    <div class="stats-container">
        <h3>Statistics</h3>
        {% if stats %}
        <div class="stats-columns">
            <div class="stat-item">
                <h4>TDS</h4>
                <p>Mean: {{ stats.TDS.mean }}</p>
                <p>Median: {{ stats.TDS.median }}</p>
                <p>Standard Deviation: {{ stats.TDS.stdev }}</p>
            </div>
            <div class="stat-item">
                <h4>EC</h4>
                <p>Mean: {{ stats.EC.mean }}</p>
                <p>Median: {{ stats.EC.median }}</p>
                <p>Standard Deviation: {{ stats.EC.stdev }}</p>
            </div>
            <div class="stat-item">
                <h4>Temperature</h4>
                <p>Mean: {{ stats.Temperature.mean }}</p>
                <p>Median: {{ stats.Temperature.median }}</p>
                <p>Standard Deviation: {{ stats.Temperature.stdev }}</p>
            </div>
            <div class="stat-item">
                <h4>Humidity</h4>
                <p>Mean: {{ stats.Humidity.mean }}</p>
                <p>Median: {{ stats.Humidity.median }}</p>
                <p>Standard Deviation: {{ stats.Humidity.stdev }}</p>
            </div>
        </div>
        {% else %}
        <p>Statistics are still being calculated or not available.</p>
        {% endif %}
    </div>

    <div class="graph-container">
        <h3>Live Data Graph</h3>
        <canvas id="graph" width="400" height="200"></canvas>
    </div>

    <footer>
        <p style="font-family: Arial, sans-serif; color: #ffffff; font-size: 14px; text-align: center;">
            &copy; Real-Time Statistics Data Center 2024
            | <a href="https://github.com/ThemeHackers" target="_blank"
                style="color: #ffffff; text-decoration: none;">GitHub - ThemeHackers</a>
        </p>

    </footer>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var ctx = document.getElementById('graph').getContext('2d');
        var graph = new Chart(ctx, {
            type: 'line',
            data: {
                labels: {{ timestamps }},
        datasets: [{
            label: 'TDS',
            data: {{ tds_data }},
            borderColor: 'rgba(52, 152, 219, 1)',
            backgroundColor: 'rgba(52, 152, 219, 0.2)',
            fill: true
                }]
            },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
        });
    </script>
</body>

</html>
